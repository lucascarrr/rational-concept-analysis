% thesis.sty â€“ Custom style for Master's thesis
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{guidelines}[2025/03/30 Master's Thesis Style]
\usepackage{subfiles}

% --- Encoding and Language ---
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}

% --- XeLaTeX / LuaLaTeX Required ---
\RequirePackage{fontspec}
\setmainfont{EB Garamond}
\usepackage[a4paper,margin=1in]{geometry}
\usepackage{setspace}
\setmonofont{Inconsolata}[Scale=0.85]
\usepackage{microtype}      % microtypography
\onehalfspacing

% --- Math and theorem environments ---
\usepackage{amsmath,amssymb,amsthm}
\usepackage{mathtools}
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{thmtools}

\declaretheorem[style=plain]{theorem}
\declaretheorem[style=definition]{definition}
\declaretheorem[style=remark]{remark}
\declaretheorem{lemma}
\declaretheorem{proposition}
\declaretheorem{corollary}

% --- Figures and floats ---
\usepackage{graphicx}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{booktabs}
\usepackage{listings}
\usepackage{xcolor}

% --- Hyperlinks ---
\usepackage[hidelinks]{hyperref}
\usepackage{cleveref}
\usepackage{url}

% --- Bibliography ---
\usepackage{makeidx}
\makeindex
\usepackage[
    backend=biber,
    style=authoryear,
    citestyle=authoryear
]{biblatex}
\addbibresource{references.bib}

% --- Custom commands for metadata ---
\newcommand{\thetitle}{}
\newcommand{\theauthor}{}
\newcommand{\thedate}{}

\renewcommand{\title}[1]{\renewcommand{\thetitle}{#1}}
\renewcommand{\author}[1]{\renewcommand{\theauthor}{#1}}
\renewcommand{\date}[1]{\renewcommand{\thedate}{#1}}

% --- Miscellaneous tweaks ---
\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{2}